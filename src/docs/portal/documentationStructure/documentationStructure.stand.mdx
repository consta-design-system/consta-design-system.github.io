import { MdxTabs, MdxMenu, MdxImage, MdxInformer } from '@consta/stand';
import description from './images/description.png';
import section from './images/section.png';
import structure from './images/structure.png';
import tabs from './images/tabs.png';

<MdxMenu>

- [Общая структура](#общая-структура)
- [Библиотеки](#библиотеки)
- [Группа стендов](#группы-стендов)
  - [Где хранится документация](#где-хранится-документация)
- [Стенд](#стенд)
  - [Настройки стенда](#настройки-стенда)
  - [Страницы стенда](#страницы-стенда)
- [Полезные ссылки](#полезные-ссылки)

</MdxMenu>

## Общая структура

Портал с документацией объединяет все библиотеки Consta. Библиотеки находятся в разных репозиториях, в каждом репозитории – своя документация. Портал автоматически собирает страницу со списком библиотек и показывает все библиотеки на одном сайте, на одном домене и под общей шапкой.

<MdxImage src={structure} />

## Библиотеки

Портал Consta собирается автоматически из библиотек на GitHub:

- [portal](https://github.com/consta-design-system/portal). Инструкции по работе с Consta и отдельными инструментами.
- [uikit](https://github.com/consta-design-system/uikit). Библиотека интерфейсных компонентов.
- [icons](https://github.com/consta-design-system/icons). Библиотека иконок.
- [table](https://github.com/consta-design-system/table). Библиотека компонентов для таблицы.
- [themes](https://github.com/consta-design-system/themes). Библиотека готовых тем.

<MdxInformer status="normal">

Полный список библиотек смотрите в [GitHub](https://github.com/orgs/consta-design-system/repositories?type=all).

</MdxInformer>

## Группа стендов

[Стенды](#стенд) в каждой библиотеке разбиты по группам. Каждая такая группа наполнена стендами, тема которых соответствует теме группы. Названия групп соответствуют значению `id` в файле `standConfig.ts` и оформляется в соответствии с [Соглашением о наименовании](##LIBS.LIB.STAND/lib:portal/stand:contributers-componentguide).

### Где хранится документация

<MdxTabs labels = {['Портал', 'Библиотеки компонентов']} view = "clear">
<>

В библиотеке **Portal** вся документация хранится в папке `docs` и разбита по группам. Названия групп внутри `docs` соответствуют значению `id` в файле `standConfig.ts` и оформляется в соответствии с [Соглашением о наименовании](##LIBS.LIB.STAND/lib:portal/stand:contributers-componentguide).

```jsx
// Структура библиотеки Portal
src/
	components/     // Компоненты
	containers/     // Контейнер. Хедер на лендинге портала
	docs/           // Документация. Основной раздел
	icons/          // Иконки
	images/         // Изображения
	pages/          // Содержимое составляющих элементов лендинга https://consta.design/
	stand/          // Настройки библиотеки
```

</>

<>

В библиотеках компонентов, специальных компонентов и адаптеров документация хранится в папке `__stand__` в папке стенда каждого отдельного компонента, хука или миксина:

```jsx
// Структура библиотеки UIkit
src/
	components/     // Основной раздел. Содержит документацию по компонентам UIkit
	docs/           // Раздел Документация. Часто содержит только раздел Быстрый старт.
	fileIcons/      // Иконки
	hocs/           // Раздел Hocs
	hooks/          // Раздел Hooks
	mixs/           // Раздел Миксины
	stand/          // Настройки библиотеки
```

</>
</MdxTabs>

{/* Этот раздел как будто логичнее перенести в Работу с документацией */}

## Стенд

Стенд – это папка, в которой хранится вся информация по отдельной сущности дизайн-системы. Структура стендов подчиняется методологии [БЭМ](##LIBS.LIB.STAND/lib:portal/stand:contributers-componentguide). В названии есть префикс, который совпадает с названием родительского блока. Например:

```rsx
docs/
    Block/                              # Стенд
        Block.stand.mdx                 # Страница с текстовым описанием сущности
        Block.stand.tsx                 # Настройки стенда
```

Документация состоит из двух типов файлов:

- [настройки стенда](#настройки-стенда) – файл с расширением `ts`.
- [страница стенда](#страницы-раздела) – файл с расширением `mdx`.

### Настройки стенда

В файле с раcширением `ts` вы можете задать настройки стенда. Настройки зависят от типа редактируемой сущности: статья или компонент.

<MdxTabs labels = {['Статья', 'Компонент']} view = "clear">
<>

```jsx
import { createStand } from '##/stand/standConfig';

export default createStand({
  title: 'О дизайн-системе',
  id: 'aboutConsta',
  group: 'startwork',
  order: 120,
  alias: ['теория', 'дизайн-система', 'зачем'],
  description: 'Что такое Consta, зачем она нужна и кому будет полезна',
});
```

Где:

- `title` – заголовок страницы. Он будет отображаться вверху страницы в качестве заголовка H1.
- `id` – id страницы. Используется при создании URL.
- `group` – группа, к которой принадлежит страница. Все группы разделов можно посмотреть в папке `stand` в файле `standConfig.ts`.
- `order` – порядок отображения страницы на портале. Так, чтобы отобразить страницу в первом разделе второй, задайте значение `120`.
- `alias` – ключевые слова для поиска по порталу.
- `description` – краткое описание содержимого страницы. Отображается под заголовком страницы.

</>

<>

```jsx
import { createStand } from '##/stand/standConfig';

export default createStand({
  title: 'DragNDropField',
  id: 'DragNDropFieldCanary',
  group: 'components',
  description:
    'Компонент позволяет загружать файлы путем перетаскивания или через диалоговое окно',
  version: '5.3.0',
  status: 'canary',
  alias: ['поле', 'ввод', 'файл', 'файлы', 'загрузка', 'выбор'],
  figma:
    'https://www.figma.com/file/v9Jkm2GrymD277dIGpRBSH/Consta-UI-Kit?type=design&node-id=32774-0&mode=design',
  order: 10,
});
```

Где:

- `title` – заголовок страницы. Он будет отображаться вверху страницы в качестве заголовка H1.
- `id` – id страницы. Используется при создании URL.
- `group` – группа, к которой принадлежит страница. Все группы разделов можно посмотреть в папке `stand` в файле `standConfig.ts`.
- `order` – порядок отображения страницы на портале. Так, чтобы отобразить страницу в первом разделе второй, задайте значение `120`.

<MdxInformer status="normal">
  Компоненты и адаптеры в идут в алфавитном порядке. Для них задавать `order` не
  нужно.
</MdxInformer>

- `alias` – ключевые слова для поиска по порталу.
- `description` – краткое описание содержимого страницы. Отображается под заголовком страницы.
- `version` – версия, в которой компонент стал доступен.
- `status` – статус компонента. Всего три статуса:
  - `deprecated` – устаревшая версия компонента.
  - `stable` – стабильная версия компонента.
  - `canary` – тестовая версия компонента.
- `figma` – ссылка на компонент в фигме. Обратите внимание, что ссылка должна быть в режиме `mode=design`.
- `github` – ссылка на компонент в гитхабе.

</>
</MdxTabs>

### Страницы стенда

Страницы нужны для навигации по стенду. На стенде статьи может не быть вкладок. На стенде компонента обычно есть хотя бы две страницы – **Обзор** и **Код и Свойство**.
Документация задается на страницах раздела. С помощью страниц можно разбивать информацию в разделе по содержанию и целевой аудитории. О том, как создать страницу читайте в статье ...

На портале переключаться между такими страницами можно с помощью табов:

<MdxImage src={tabs} />

О форматировании текста на страницах раздела читайте в разделе [Форматирование текста](##LIBS.LIB.STAND/lib:portal/stand:portal-formatting-rules).

## Полезные ссылки

{/* Проверить ссылки перед релизом */}

- [Настроить раздел](##LIBS.LIB.STAND/lib:portal/stand:portal-formatting-rules)
- [Форматирование текста](##LIBS.LIB.STAND/lib:portal/stand:portal-formatting-rules)
- [Оформить ветку и коммит](##LIBS.LIB.STAND/lib:portal/stand:portal-formatting-rules)
