import { MdxTabs } from '@consta/stand';
import { MdxMenu } from '@consta/stand';
import { MdxImage } from '@consta/stand'; //код для импорта изображений
import description from './images/description.png';
import section from './images/section.png';
import structure from './images/structure.png';
import tabs from './images/tabs.png';

<MdxMenu>

- [Общая структура](#общая-структура)
- [Где хранится документация](#где-хранится-документация)
- [Настроить раздел](#настроить-раздел)
- [Настроить страницы в разделе](#настроить-страницы-в-разделе)

</MdxMenu>

## Общая структура

<MdxImage src={structure} />

## Где хранится документация

Места для хранения документации в репозитории Портала и репозиториях компонентов отличаются. Подробнее об [Файловой структуре](##LIBS.LIB.STAND/lib:portal/stand:portal-filestructure).

<MdxTabs labels = {['Портал', 'Библиотеки компонентов']} view = "clear">
<>

```jsx
// Структура библиотеки Portal
src/
	components/     // Компоненты
	containers/     // Контейнер. Хедер на лендинге портала
	docs/           // Документация. Основной раздел
	icons/          // Иконки
	images/         // Изображения
	pages/          // Содержимое составляющих элементов лендинга https://consta.design/
	stand/          // Настройки библиотеки
```

</>

<>

Для каждой библиотеки, специального компонента и адаптера созданы отдельные репозитории. Структура файлов в этих библиотеках схожа:

```jsx
// Структура библиотеки UIkit
src/
	components/     // Основной раздел. Содержит документацию по компонентам UIkit
	docs/           // Раздел Документация. Часто содержит только Быстрый старт.
	fileIcons/      // Иконки
	hocs/           // Раздел Hocs
	hooks/          // Раздел Hooks
	mixs/           // Раздел Миксины
	stand/          // Настройки библиотеки
```

</>
</MdxTabs>

## Настроить раздел

<MdxTabs labels = {['Портал', 'Библиотека компонентов']} view = "clear">
<>
Чтобы настроить отображение разделов с документацией в репозитории Portal:

1. Перейдите в папку `.docs`.
2. Выберите раздел.
3. Перейдите в файл с расширением `.tsx`.
4. Задайте настройки:

```jsx
import { createStand } from '##/stand/standConfig';

export default createStand({
  title: 'О дизайн-системе',
  id: 'aboutConsta',
  group: 'startwork',
  order: 120,
  description: 'Что такое Consta, зачем она нужна и кому будет полезна',
});
```

Где:

- `title` – название страницы. Оно будет отображаться вверху страницы в качестве заголовка H1.
- `id` – id страницы. Используется при создании URL.
- `group` – группа (раздел), к которой принадлежит страница. Все группы разделов можно посмотреть в папке `stand` в файле `standConfig.ts`.
- `order` – порядок отображения страницы на портале. Так, чтобы отобразить страницу в первом разделе второй, задайте значение `120`.
- `alias` – ключевые слова для поиска по порталу.
- `description` – краткое описание содержимого страницы.

<MdxImage src={description} />

</>

<>

Чтобы настроить отображение разделов с документацией в библиотеках компонентов:

1. Откройте папку компонента.
2. Перейдите в папку `__stand__`
3. Перейдите в файл с расширением `.tsx`.
4. Задайте настройки. Пример:

```jsx
import { createStand } from '##/stand/standConfig';

export default createStand({
  title: 'DragNDropField',
  id: 'DragNDropFieldCanary',
  group: 'components',
  description:
    'Компонент позволяет загружать файлы путем перетаскивания или через диалоговое окно',
  version: '5.3.0',
  status: 'canary',
  alias: ['поле', 'ввод', 'файл', 'файлы', 'загрузка', 'выбор'],
  figma:
    'https://www.figma.com/file/v9Jkm2GrymD277dIGpRBSH/Consta-UI-Kit?type=design&node-id=32774-0&mode=design',
  order: 10,
});
```

Где:

- `title` – название страницы. Оно будет отображаться вверху страницы в качестве заголовка H1.
- `id` – id страницы. Используется при создании URL.
- `group` – группа (раздел), к которой принадлежит страница. Все группы разделов можно посмотреть в папке `stand` в файле `standConfig.ts`.
- `order` – порядок отображения страницы на портале. Так, чтобы отобразить страницу в первом разделе второй, задайте значение `120`.

> Компоненты и адаптеры в идут в алфавитном порядке. Для них задавать `order` не нужно.

- `alias` – ключевые слова для поиска по порталу.
- `description` – краткое описание содержимого страницы.

<MdxImage src={description} />

- `version` – версия, в которой компонент стал доступен.
- `status` – статус компонента. Всего три статуса:
  - `deprecated` – устаревшая версия компонента.
  - `stable` – стабильная версия компонента.
  - `canary` – тестовая версия компонента.
- `figma` – ссылка на компонент в фигме. Обратите внимание, что ссылка должна быть в режиме `mode=design`.
- `github` – ссылка на компонент в гитхабе.

</>
</MdxTabs>

## Настроить страницы в разделе

В разделе находится одна или несколько страниц. Они помогают разбивать информацию в разделе по содержанию и целевой аудитории.

<MdxImage src={section} />

На портале переключаться между такими страницами можно с помощью табов.

<MdxImage src={tabs} />

Чтобы создать страницу внутри раздела:

1. Перейдите в раздел.
2. Создайте страницу по принципу `%название_раздела%.%id_страницы%.stand.mdx`.

`id_страницы` задается в файле `standConfig.ts` :

```jsx
export const { createStand } = createConfig({
../../..
standTabs: [
    // табы по умолчанию
    { id: '', label: 'Обзор' },
    { id: 'dev', label: 'Разработчикам' },
    { id: 'design', label: 'Дизайнерам', figma: true },
    { id: 'sandbox', label: 'Песочница', sandbox: true },
    // свои табы
    { id: 'use', label: 'Как использовать' },
  ],
../../..
});
```

О том, как использовать страницы в разделе в собственном проекте, читайте в статье [Документация для компонента](##LIBS.LIB.STAND/lib:portal/stand:portal-docs/hash:кастомная-вкладка).
